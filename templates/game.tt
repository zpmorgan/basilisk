[%  INCLUDE header %]
<br>
<span style="border: 1px solid #777;background-color:lightgray;"> 
  <img src="[%img_base%]/g/[% to_move_img %]" width="11px"> to move.
</span>

<br>

[% size = board_data.size %]
[% MACRO coordinate_letter_row BLOCK %]
  <tr>
   <td><img src="[%img_base%]/g/blank.gif" width="31" height="25"> </td>
   [% c=0; WHILE c < size -%]
    <td> <img src="[%img_base%]/g/c[% c_letter(c) %].gif"> </td>
   [% c=c+1;END -%]
   <td><img src="[%img_base%]/g/blank.gif" width="31" height="25"> </td>
  </tr>
[% END %]

[% MACRO row_number_cell(row) BLOCK -%]
  <td><img src="[%img_base%]/g/c[% size +1 - row %].gif"></td>
[% END %]

<br>

<table class="Goban" style="background-image: url([%img_base%]/g/wood.gif);">
 [% coordinate_letter_row %]
 [% FOREACH row = board_data -%]
  <tr>
  [% row_number_cell(loop.count) %]
    [%- FOREACH cell = row -%]
      [% IF cell.ref -%]
        <td> <a href="[%url_base%]/[% cell.ref %]">  <img src="[%img_base%]/g/[% cell.g %]">  </a> </td>
      [% ELSE -%]
        <td> <img src="[%img_base%]/g/[% cell.g %]"> </td>
      [% END -%]
    [% END -%]
  [% row_number_cell(loop.count) %]
  </tr>
 [% END %]
 [% coordinate_letter_row %]
</table>
<br>

<table style="border: 2px solid #558855;border-spacing: 3px;">

  [% FOREACH p = players_data %]
   <tr> 
      <td> <img src="[%img_base%]/g/[% p.stone_img %]">  </td>
      <td> <a href="[%url_base%]/userinfo/[% p.id %]"> <b>[% p.name %]</b> </a>  </td>
      <td> captures: [% p.captures %]</td>
      <td> time remaining: [% p.time_remaining %]</td>
   </tr>
  [% END %]
  
   <tr>
      <td colspan="4"> Rules: basic </td>
   </tr>
  [% IF extra_rules_desc %]
   <tr>
      <td colspan="4"> Extra rules: <b>[% extra_rules_desc %]</b> </td>
   </tr>
  [% END %]
</table>
    
[% INCLUDE footer %]
